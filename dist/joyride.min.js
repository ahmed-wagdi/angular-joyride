!function(){function e(e,t){var r=new RegExp("\\b"+t+".*?\\b","g");return e.className=e.className.replace(r,""),e}function t(e){var t=document.documentElement,r=e.getBoundingClientRect();return{top:r.top+window.pageYOffset-t.clientTop,left:r.left+window.pageXOffset-t.clientLeft}}function r(){if(void 0!=window.pageYOffset)return pageYOffset;var e,t=document,r=t.documentElement,n=t.body;return e=r.scrollTop||n.scrollTop||0,[sx,e]}function n(e){function t(e,t,r,n){return(e/=n/2)<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)}var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=e-r,o=Math.min(4*Math.abs(n),1e3),i=0;if(Math.abs(n)>10){var l=function(){i+=20;var e=t(i,r,n,o);window.scrollTo(0,e),i<o&&setTimeout(l,20)};l()}}var o=angular.module("angular-joyride",["ngAnimate"]);o.run(["$templateCache",function(e){e.put("ngJoyrideDefault.html",'<div class="jr_container" id="jr_{{joyride.current}}"><div class="jr_step"><h4 ng-if="joyride.config.steps[joyride.current].title" class="jr_title">{{joyride.config.steps[joyride.current].title}}</h4><div ng-if="joyride.config.steps[joyride.current].content" class="jr_content" ng-bind-html="joyride.config.steps[joyride.current].content | jr_trust"></div></div><div class="jr_buttons"><div class="jr_left_buttons"><a class="jr_button jr_skip" ng-click="joyride.start = false">Skip</a></div><div class="jr_right_buttons"><a class="jr_button jr_prev" ng-click="joyride.prev()" ng-class="{\'disabled\' : joyride.current === 0}">Prev</a><a class="jr_button jr_next" ng-click="joyride.next()" ng-bind="(joyride.current == joyride.config.steps.length-1) ? \'Finish\' : \'Next\'"></a></div></div></div>')}]);var i=function(o,i,l,s,a,c){return{restrict:"E",scope:{},template:'<div class="jr_overlay"></div>',link:function(d,u,f){function y(){var e=l(h)(d),t=d.joyride.config.steps[d.joyride.current],r=angular.element(document.querySelector("body")),n=!1;if("element"===t.type&&!t.appendToBody){var o=angular.element(document.querySelector(t.selector));o.length?(n=!0,r=o):console.warn("Could not find element with selector:",t.selector)}r.append(e),v=document.querySelector(".jr_container"),n&&angular.element(v).on("click",function(e){e.preventDefault(),e.stopPropagation()}),angular.element(v).append("<div class='triangle'></div>"),d.joyride.start&&(d.joyride.transitionStep||angular.element(v).addClass("jr_start").addClass("jr_transition"))}function p(){angular.element(v).remove()}function j(){"function"==typeof d.joyride.config.steps[d.joyride.current].afterStep?d.joyride.config.steps[d.joyride.current].afterStep(g):g()}function g(){"next"==d.joyride.transitionStep?d.joyride.current++:d.joyride.current--,"function"==typeof d.joyride.config.steps[d.joyride.current].beforeStep?d.joyride.config.steps[d.joyride.current].beforeStep(d.joyride.resumeJoyride):d.joyride.resumeJoyride()}function m(){d.joyride.config.steps[d.joyride.current];a(function(){e(v,"jr_pos_");var o=d.joyride.config.steps[d.joyride.current];if("element"==o.type&&document.querySelector(o.selector)){v.removeAttribute("style"),angular.element(v).addClass("jr_element"),document.querySelector(".jr_target")&&angular.element(document.querySelector(".jr_target")).removeClass("jr_target");var i=angular.element(document.querySelector(o.selector)),l=t(i[0]),s=window.innerWidth,a=v.offsetWidth,c=i[0].offsetWidth;i.addClass("jr_target");var u=o.placement||"bottom";if(o.responsive&&s<o.responsive.breakpoint&&(u=o.responsive.placement||"bottom"),angular.element(v).addClass("jr_pos_"+u),"top"===u||"bottom"===u){if("top"===u){var f=v.clientHeight;l.top-=f+20}else{var f=i[0].clientHeight;l.top+=f+20}l.left=l.left+c/2-a/2}else{var y=v.clientHeight,p=i[0].clientHeight;if(l.top=l.top+p/2-y/2,"left"===u){var j=v.clientWidth;l.left-=j+20}else{var j=i[0].clientWidth;l.left+=j+20}}var g=document.querySelector("body")===v.offsetParent?{top:0,left:0}:t(v.offsetParent);if(g.left=l.left-g.left,g.top=l.top-g.top,v.style.left=g.left+"px",v.style.top=g.top+"px",v.style.right="auto",v.style.bottom="auto",v.style.transform="none","left"!==u&&"right"!==u){var m=t(v);if(m.left<0){var h=document.querySelector(".jr_container .triangle");h.style.left=a/2-h.offsetWidth/2+m.left+"px",h.style.right="auto",v.style.left=g.left-m.left+"px"}else if(m.left+a>s){var _=m.left+a-s,h=document.querySelector(".jr_container .triangle");h.style.left=a/2-h.offsetWidth/2+_+"px",h.style.right="auto",v.style.left=g.left-_+"px"}}!1!==o.scroll&&("bottom"===u?scroll_pos=l.top-i[0].clientHeight:"top"===u?scroll_pos=l.top-v.clientHeight:i[0].clientHeight<v.clientHeight&&(scroll_pos=l.top-(v.clientHeight-i[0].clientHeight)/2),n(scroll_pos))}else angular.element(v).removeClass("jr_element"),document.querySelector(".jr_target")&&angular.element(document.querySelector(".jr_target")).removeClass("jr_target"),v.style.left="",v.style.top=r(u,v)+100+"px"})}d.joyride=i;var v,h;angular.element(c).bind("resize",function(){d.joyride.start&&m()}),d.$watch("joyride.start",function(e,t){function r(){y(),o.addClass(v,"jr_start").then(d.joyride.config.onStart),m()}e===t&&!0!==e||(e&&(h=d.joyride.config.template||"ngJoyrideDefault.html",s(h,!1).then(function(e){h=e,angular.element(document.querySelector("body")).addClass("jr_active"),!1!==d.joyride.config.overlay&&angular.element(document.querySelector("body")).addClass("jr_overlay_show"),"function"==typeof d.joyride.config.steps[d.joyride.current].beforeStep?d.joyride.config.steps[d.joyride.current].beforeStep(r):r()})),e||o.removeClass(v,"jr_start").then(_))}),d.$watch("joyride.transitionStep",function(e,t){if(e!==t&&d.joyride.start){if(e)if("next"==e&&d.joyride.current==d.joyride.config.steps.length-1)d.joyride.start=!1;else{if("prev"==e&&0==d.joyride.current)return;o.addClass(v,"jr_transition").then(j)}e||o.removeClass(v,"jr_transition")}}),d.joyride.resumeJoyride=function(){d.joyride.start&&(d.joyride.transitionStep=!1,"function"==typeof d.joyride.config.onStepChange&&d.joyride.config.onStepChange(),p(),y(),a(function(){m()}))};var _=function(){angular.element(document.querySelector("body")).removeClass("jr_active jr_overlay_show"),p(),d.joyride.current=0,d.joyride.transitionStep=!0,"function"==typeof d.joyride.config.onFinish&&d.joyride.config.onFinish(),document.querySelector(".jr_target")&&angular.element(document.querySelector(".jr_target")).removeClass("jr_target")}}}},l=function(){return{current:0,transitionStep:!0,resumeJoyride:function(){},start:!1,config:{overlay:!0,template:!1,steps:[],onStepChange:function(){},onFinish:function(){},onStart:function(){}},next:function(){this.transitionStep="next"},prev:function(){this.transitionStep="prev"},goTo:function(e){this.start=!0,e&&(this.current=e)}}};o.filter("jr_trust",["$sce",function(e){return function(t,r){return e.trustAsHtml(t)}}]),o.factory("joyrideService",[l]),o.directive("joyride",["$animate","joyrideService","$compile","$templateRequest","$timeout","$window",i])}();
